# 98. Validate Binary Search Tree

{% embed url="https://leetcode.com/problems/validate-binary-search-tree/" %}

Given the `root` of a binary tree, _determine if it is a valid binary search tree (BST)_.

A **valid BST** is defined as follows:

* The left subtree of a node contains only nodes with keys **less than** the node's key.
* The right subtree of a node contains only nodes with keys **greater than** the node's key.
* Both the left and right subtrees must also be binary search trees.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/12/01/tree1.jpg)

<pre><code><strong>Input: root = [2,1,3]
</strong><strong>Output: true
</strong></code></pre>

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/12/01/tree2.jpg)

<pre><code><strong>Input: root = [5,1,4,null,null,3,6]
</strong><strong>Output: false
</strong><strong>Explanation: The root node's value is 5 but its right child's value is 4.
</strong></code></pre>

**Constraints:**

* The number of nodes in the tree is in the range `[1, 104]`.
* `-231 <= Node.val <= 231 - 1`

Related Topics

* Tree
* Depth-First Search
* Binary Search Tree
* Binary Tree

\


* ğŸ‘ 13926
* ğŸ‘ 1149



## Solution

```python
# leetcode submit region begin(Prohibit modification and deletion)
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def __init__(self):
        self.maxVal = -float("INF")

    def isValidBST(self, root: Optional[TreeNode]) -> bool:
        # 1. parameter: root, return value: bool
        # 2. ending: leaf node/None?
        # 3. each level: left/right val
        if not root:
            return True
        left = self.isValidBST(root.left)
        if root.val > self.maxVal:
            self.maxVal = root.val
        else:
            return False
        right = self.isValidBST(root.right)
        return left and right

# leetcode submit region end(Prohibit modification and deletion)
```

## Take aways

1. To create an instance variable in Python:

```python
def __init__(self):
    self.maxVal = -float("INF")
```

2. To make a min / max value in Python:

```
-float("INF")
# or
import math
-math.inf
```



## Potential Pitfalls

* é™·é˜±1

**ä¸èƒ½å•çº¯çš„æ¯”è¾ƒå·¦èŠ‚ç‚¹å°äºä¸­é—´èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹å¤§äºä¸­é—´èŠ‚ç‚¹å°±å®Œäº‹äº†**ã€‚

å†™å‡ºäº†ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š

```
if (root->val > root->left->val && root->val < root->right->val) {
    return true;
} else {
    return false;
}
```

**æˆ‘ä»¬è¦æ¯”è¾ƒçš„æ˜¯ å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹å°äºä¸­é—´èŠ‚ç‚¹ï¼Œå³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹å¤§äºä¸­é—´èŠ‚ç‚¹**ã€‚æ‰€ä»¥ä»¥ä¸Šä»£ç çš„åˆ¤æ–­é€»è¾‘æ˜¯é”™è¯¯çš„ã€‚

ä¾‹å¦‚ï¼š \[10,5,15,null,null,6,20] è¿™ä¸ªcaseï¼š

![äºŒå‰æœç´¢æ ‘](https://img-blog.csdnimg.cn/20200812191501419.png)

èŠ‚ç‚¹10å¤§äºå·¦èŠ‚ç‚¹5ï¼Œå°äºå³èŠ‚ç‚¹15ï¼Œä½†å³å­æ ‘é‡Œå‡ºç°äº†ä¸€ä¸ª6 è¿™å°±ä¸ç¬¦åˆäº†ï¼

* é™·é˜±2

æ ·ä¾‹ä¸­æœ€å°èŠ‚ç‚¹ å¯èƒ½æ˜¯intçš„æœ€å°å€¼ï¼Œå¦‚æœè¿™æ ·ä½¿ç”¨æœ€å°çš„intæ¥æ¯”è¾ƒä¹Ÿæ˜¯ä¸è¡Œçš„ã€‚

æ­¤æ—¶å¯ä»¥åˆå§‹åŒ–æ¯”è¾ƒå…ƒç´ ä¸ºlonglongçš„æœ€å°å€¼ã€‚

é—®é¢˜å¯ä»¥è¿›ä¸€æ­¥æ¼”è¿›ï¼šå¦‚æœæ ·ä¾‹ä¸­æ ¹èŠ‚ç‚¹çš„val å¯èƒ½æ˜¯longlongçš„æœ€å°å€¼ åˆè¦æ€ä¹ˆåŠå‘¢ï¼Ÿæ–‡ä¸­ä¼šè§£ç­”ã€‚

{% embed url="https://programmercarl.com/0098.%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html#%E9%80%92%E5%BD%92%E6%B3%95" %}
